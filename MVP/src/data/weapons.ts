/**
 * Weapons Database - Parsed from Weapons_Complete.csv
 *
 * Categories:
 * - Melee (Regular & Skill)
 * - Ranged (Firearms)
 * - Thrown
 * - Special (Flamethrower, Rocket, etc.)
 * - Energy Weapons
 * - Grenades
 */

import { Weapon, WeaponCategory, COST_VALUES, CostLevel } from './equipmentTypes';

// Helper to parse accuracy CS from string like "+1CS" or "-2CS"
function parseAccuracyCS(str: string): number {
  if (!str || str === '+0CS') return 0;
  const match = str.match(/([+-]?\d+)/);
  return match ? parseInt(match[1]) : 0;
}

// Helper to calculate cost value
function getCostValue(level: CostLevel): number {
  return COST_VALUES[level] || 0;
}

// Weapon emoji mapping
const WEAPON_EMOJIS: Record<string, string> = {
  // Melee
  'Knife': 'ðŸ”ª',
  'Lead_Pipe': 'ðŸ”§',
  'Club': 'ðŸ',
  'Brass_Knuckles': 'ðŸ‘Š',
  'Baseball_Bat': 'âš¾',
  'Machete': 'ðŸ—¡ï¸',
  'Katana': 'âš”ï¸',
  'Battle_Staff': 'ðŸ¥¢',
  'Nunchaku': 'ðŸ¥‹',
  'Tonfa': 'ðŸ›¡ï¸',
  'Spear': 'ðŸ”±',
  'Axe': 'ðŸª“',
  'Sword': 'âš”ï¸',
  'Dagger': 'ðŸ—¡ï¸',
  'Hammer_War': 'ðŸ”¨',

  // Ranged
  'Pistol': 'ðŸ”«',
  'Pistol_Light': 'ðŸ”«',
  'Pistol_Standard': 'ðŸ”«',
  'Pistol_Heavy': 'ðŸ”«',
  'Revolver': 'ðŸ”«',
  'SMG': 'ðŸ”«',
  'Shotgun': 'ðŸ’¥',
  'Shotgun_Pump': 'ðŸ’¥',
  'Shotgun_Auto': 'ðŸ’¥',
  'Shotgun_Slug': 'ðŸ’¥',
  'Assault_Rifle': 'ðŸŽ¯',
  'Battle_Rifle': 'ðŸŽ¯',
  'Sniper_Rifle': 'ðŸŽ¯',
  'Anti_Materiel_Rifle': 'ðŸ’€',
  'Machine_Gun': 'ðŸ”«',
  'Minigun': 'â˜ ï¸',

  // Thrown
  'Throwing_Knife': 'ðŸ—¡ï¸',
  'Throwing_Star': 'â­',
  'Javelin': 'ðŸ¹',
  'Rock': 'ðŸª¨',
  'Brick': 'ðŸ§±',

  // Special
  'Bow_Compound': 'ðŸ¹',
  'Crossbow': 'ðŸ¹',
  'Flamethrower': 'ðŸ”¥',
  'Rocket_Launcher': 'ðŸš€',
  'Grenade_Launcher': 'ðŸ’£',
  'Taser': 'âš¡',
  'Net_Gun': 'ðŸ•¸ï¸',

  // Energy
  'Laser_Rifle': 'âš¡',
  'Plasma_Rifle': 'ðŸ”¥',
  'Thermal_Rifle': 'ðŸŒ¡ï¸',
  'Ice_Rifle': 'â„ï¸',
  'Energy_Rifle': 'âš¡',
  'Electric_Rifle': 'âš¡',
  'Sonic_Rifle': 'ðŸ“¢',
  'Pulse_Rifle': 'ðŸ’«',
  'Disruptor': 'â˜¢ï¸',
  'Stun_Rifle': 'âš¡',

  // Grenades
  'Combat_Grenade': 'ðŸ’£',
  'Sticky_Grenade': 'ðŸ’£',
  'Flash_Grenade': 'ðŸ’¡',
  'Stun_Grenade': 'ðŸ’«',
  'Shrapnel_Grenade': 'ðŸ’£',
  'Smoke_Grenade': 'ðŸ’¨',
  'Incendiary_Grenade': 'ðŸ”¥',
  'Gas_Grenade': 'â˜ ï¸',
  'EMP_Grenade': 'âš¡',
  'Plasma_Grenade': 'ðŸ”¥',
};

function getWeaponEmoji(name: string): string {
  // Try exact match first
  if (WEAPON_EMOJIS[name]) return WEAPON_EMOJIS[name];

  // Try partial match
  for (const [key, emoji] of Object.entries(WEAPON_EMOJIS)) {
    if (name.includes(key) || key.includes(name.replace(/_/g, ' '))) {
      return emoji;
    }
  }

  // Default by category keywords
  if (name.toLowerCase().includes('pistol')) return 'ðŸ”«';
  if (name.toLowerCase().includes('rifle')) return 'ðŸŽ¯';
  if (name.toLowerCase().includes('shotgun')) return 'ðŸ’¥';
  if (name.toLowerCase().includes('knife') || name.toLowerCase().includes('blade')) return 'ðŸ”ª';
  if (name.toLowerCase().includes('grenade')) return 'ðŸ’£';
  if (name.toLowerCase().includes('laser') || name.toLowerCase().includes('energy')) return 'âš¡';

  return 'ðŸ”«'; // Default
}

// ==================== MELEE WEAPONS ====================

export const MELEE_WEAPONS: Weapon[] = [
  {
    id: 'MEL_001',
    name: 'Knife',
    category: 'Melee_Regular',
    baseDamage: 10,
    damageType: 'PHYSICAL',
    damageSubType: 'EDGED_MELEE',
    attackSpeed: 1.0,
    range: 1,
    accuracyCS: 0,
    penetrationMult: 0.5,
    skillRequired: 'None',
    strRequired: 0,
    specialEffects: ['Easy to conceal', 'Fast draw/sheathe'],
    costLevel: 'Low',
    costValue: getCostValue('Low'),
    availability: 'Common',
    notes: 'Common cheap weapon for low STR characters',
    emoji: 'ðŸ”ª',
  },
  {
    id: 'MEL_002',
    name: 'Lead Pipe',
    category: 'Melee_Regular',
    baseDamage: 5,
    damageType: 'PHYSICAL',
    damageSubType: 'SMASHING_MELEE',
    attackSpeed: 2.0,
    range: 2,
    accuracyCS: 0,
    penetrationMult: 0.25,
    skillRequired: 'None',
    strRequired: 0,
    specialEffects: ['Damage adds STR bonus'],
    costLevel: 'Free',
    costValue: 0,
    availability: 'Common',
    notes: 'Most common improvised melee',
    emoji: 'ðŸ”§',
  },
  {
    id: 'MEL_003',
    name: 'Club',
    category: 'Melee_Regular',
    baseDamage: 8,
    damageType: 'PHYSICAL',
    damageSubType: 'SMASHING_MELEE',
    attackSpeed: 1.5,
    range: 1,
    accuracyCS: 0,
    penetrationMult: 0.25,
    skillRequired: 'None',
    strRequired: 0,
    specialEffects: ['Damage adds STR bonus'],
    costLevel: 'Low',
    costValue: getCostValue('Low'),
    availability: 'Common',
    notes: 'Basic bludgeon',
    emoji: 'ðŸ',
  },
  {
    id: 'MEL_004',
    name: 'Brass Knuckles',
    category: 'Melee_Regular',
    baseDamage: 5,
    damageType: 'PHYSICAL',
    damageSubType: 'SMASHING_MELEE',
    attackSpeed: 0.8,
    range: 1,
    accuracyCS: 1,
    penetrationMult: 0.25,
    skillRequired: 'None',
    strRequired: 0,
    specialEffects: ['+5 to unarmed damage', 'Concealed'],
    costLevel: 'Low',
    costValue: getCostValue('Low'),
    availability: 'Restricted',
    notes: 'Illegal in many jurisdictions',
    emoji: 'ðŸ‘Š',
  },
  {
    id: 'MEL_005',
    name: 'Baseball Bat',
    category: 'Melee_Regular',
    baseDamage: 12,
    damageType: 'PHYSICAL',
    damageSubType: 'SMASHING_MELEE',
    attackSpeed: 1.8,
    range: 2,
    accuracyCS: 0,
    penetrationMult: 0.5,
    skillRequired: 'None',
    strRequired: 10,
    specialEffects: ['Damage adds STR bonus', 'Chance to knockback'],
    costLevel: 'Low',
    costValue: getCostValue('Low'),
    availability: 'Common',
    notes: 'Good reach and damage',
    emoji: 'âš¾',
  },
  {
    id: 'MEL_006',
    name: 'Machete',
    category: 'Melee_Regular',
    baseDamage: 12,
    damageType: 'PHYSICAL',
    damageSubType: 'EDGED_MELEE',
    attackSpeed: 1.2,
    range: 1,
    accuracyCS: 0,
    penetrationMult: 0.75,
    skillRequired: 'None',
    strRequired: 0,
    specialEffects: ['Can cause bleeding'],
    costLevel: 'Low',
    costValue: getCostValue('Low'),
    availability: 'Common',
    notes: 'Utility and combat use',
    emoji: 'ðŸ—¡ï¸',
  },
  {
    id: 'MEL_007',
    name: 'Katana',
    category: 'Melee_Skill',
    baseDamage: 15,
    damageType: 'PHYSICAL',
    damageSubType: 'EDGED_MELEE',
    attackSpeed: 1.5,
    range: 2,
    accuracyCS: 0,
    penetrationMult: 1.0,
    skillRequired: 'Katana',
    strRequired: 0,
    specialEffects: ['Critical hits cause bleeding', 'Dismemberment on Major'],
    costLevel: 'High',
    costValue: getCostValue('High'),
    availability: 'Specialized',
    investigationBonus: '+2CS cultural (Asia)',
    notes: 'Expensive weapon requiring specialized training',
    emoji: 'âš”ï¸',
  },
  {
    id: 'MEL_008',
    name: 'Battle Staff',
    category: 'Melee_Skill',
    baseDamage: 8,
    damageType: 'PHYSICAL',
    damageSubType: 'SMASHING_MELEE',
    attackSpeed: 1.5,
    range: 3,
    accuracyCS: 0,
    penetrationMult: 0.5,
    skillRequired: 'Staff',
    strRequired: 0,
    specialEffects: ['STR bonus', 'Can hit adjacent enemies'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Common',
    notes: 'Good reach; area potential',
    emoji: 'ðŸ¥¢',
  },
  {
    id: 'MEL_009',
    name: 'Nunchaku',
    category: 'Melee_Skill',
    baseDamage: 10,
    damageType: 'PHYSICAL',
    damageSubType: 'SMASHING_MELEE',
    attackSpeed: 1.0,
    range: 1,
    accuracyCS: 1,
    penetrationMult: 0.5,
    skillRequired: 'Martial_Arts',
    strRequired: 0,
    specialEffects: ['Fast attacks', 'Can disarm'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Specialized',
    notes: 'Requires martial arts training',
    emoji: 'ðŸ¥‹',
  },
  {
    id: 'MEL_010',
    name: 'Tonfa',
    category: 'Melee_Skill',
    baseDamage: 8,
    damageType: 'PHYSICAL',
    damageSubType: 'SMASHING_MELEE',
    attackSpeed: 1.2,
    range: 1,
    accuracyCS: 1,
    penetrationMult: 0.5,
    skillRequired: 'Martial_Arts',
    strRequired: 0,
    specialEffects: ['Can block (+1CS defense)'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Specialized',
    notes: 'Defensive melee option',
    emoji: 'ðŸ›¡ï¸',
  },
  {
    id: 'MEL_011',
    name: 'Spear',
    category: 'Melee_Skill',
    baseDamage: 12,
    damageType: 'PHYSICAL',
    damageSubType: 'PIERCING_MELEE',
    attackSpeed: 2.0,
    range: 3,
    accuracyCS: 0,
    penetrationMult: 1.0,
    skillRequired: 'Spear',
    strRequired: 0,
    specialEffects: ['Longest melee reach', 'Can be thrown'],
    costLevel: 'Low',
    costValue: getCostValue('Low'),
    availability: 'Common',
    notes: 'Versatile reach weapon',
    emoji: 'ðŸ”±',
  },
  {
    id: 'MEL_012',
    name: 'Axe',
    category: 'Melee_Regular',
    baseDamage: 15,
    damageType: 'PHYSICAL',
    damageSubType: 'EDGED_MELEE',
    attackSpeed: 2.5,
    range: 1,
    accuracyCS: -1,
    penetrationMult: 1.0,
    skillRequired: 'None',
    strRequired: 15,
    specialEffects: ['Ignores 5 DR from armor'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Common',
    notes: 'Heavy and powerful',
    emoji: 'ðŸª“',
  },
  {
    id: 'MEL_013',
    name: 'Sword',
    category: 'Melee_Skill',
    baseDamage: 12,
    damageType: 'PHYSICAL',
    damageSubType: 'EDGED_MELEE',
    attackSpeed: 1.5,
    range: 2,
    accuracyCS: 0,
    penetrationMult: 1.0,
    skillRequired: 'Swords',
    strRequired: 0,
    specialEffects: ['Balanced attack and defense'],
    costLevel: 'High',
    costValue: getCostValue('High'),
    availability: 'Specialized',
    notes: 'Classic weapon',
    emoji: 'âš”ï¸',
  },
  {
    id: 'MEL_014',
    name: 'Dagger',
    category: 'Melee_Regular',
    baseDamage: 8,
    damageType: 'PHYSICAL',
    damageSubType: 'EDGED_MELEE',
    attackSpeed: 0.8,
    range: 1,
    accuracyCS: 1,
    penetrationMult: 0.5,
    skillRequired: 'None',
    strRequired: 0,
    specialEffects: ['Fast', 'Easy to conceal', 'Can be thrown'],
    costLevel: 'Low',
    costValue: getCostValue('Low'),
    availability: 'Common',
    notes: 'Utility and backup weapon',
    emoji: 'ðŸ—¡ï¸',
  },
  {
    id: 'MEL_015',
    name: 'War Hammer',
    category: 'Melee_Skill',
    baseDamage: 20,
    damageType: 'PHYSICAL',
    damageSubType: 'SMASHING_MELEE',
    attackSpeed: 3.0,
    range: 2,
    accuracyCS: -1,
    penetrationMult: 1.5,
    skillRequired: 'Heavy_Weapons',
    strRequired: 25,
    specialEffects: ['Ignores 10 DR', 'High knockback'],
    costLevel: 'High',
    costValue: getCostValue('High'),
    availability: 'Specialized',
    notes: 'Devastating but slow',
    emoji: 'ðŸ”¨',
  },
];

// ==================== RANGED WEAPONS - FIREARMS ====================

export const RANGED_WEAPONS: Weapon[] = [
  {
    id: 'RNG_001',
    name: 'Light Pistol',
    category: 'Ranged_Regular',
    baseDamage: 15,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'GUNFIRE',
    attackSpeed: 1.5,
    range: 20,
    accuracyCS: -2,
    penetrationMult: 1.0,
    skillRequired: 'None',
    strRequired: 0,
    reloadTime: 2,
    magazineSize: 15,
    defaultAmmo: '9mm_Standard',
    specialEffects: ['Easy to conceal', 'Fast draw'],
    costLevel: 'Low',
    costValue: getCostValue('Low'),
    availability: 'Common',
    notes: 'Compact sidearm',
    emoji: 'ðŸ”«',
  },
  {
    id: 'RNG_002',
    name: 'Standard Pistol',
    category: 'Ranged_Regular',
    baseDamage: 20,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'GUNFIRE',
    attackSpeed: 1.5,
    range: 25,
    accuracyCS: -2,
    penetrationMult: 1.0,
    skillRequired: 'None',
    strRequired: 0,
    reloadTime: 2,
    magazineSize: 17,
    defaultAmmo: '9mm_Standard',
    specialEffects: ['Easy to conceal', 'Fast draw'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Common',
    notes: 'Standard law enforcement sidearm',
    emoji: 'ðŸ”«',
  },
  {
    id: 'RNG_003',
    name: 'Heavy Pistol',
    category: 'Ranged_Regular',
    baseDamage: 25,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'GUNFIRE',
    attackSpeed: 1.8,
    range: 25,
    accuracyCS: -2,
    penetrationMult: 1.0,
    skillRequired: 'None',
    strRequired: 10,
    reloadTime: 2,
    magazineSize: 8,
    defaultAmmo: '.45_Standard',
    specialEffects: ['Easy to conceal', 'High stopping power'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Common',
    notes: 'High caliber handgun',
    emoji: 'ðŸ”«',
  },
  {
    id: 'RNG_004',
    name: 'Revolver',
    category: 'Ranged_Regular',
    baseDamage: 25,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'GUNFIRE',
    attackSpeed: 2.0,
    range: 20,
    accuracyCS: -1,
    penetrationMult: 1.0,
    skillRequired: 'None',
    strRequired: 0,
    reloadTime: 5,
    magazineSize: 6,
    defaultAmmo: '.357_Standard',
    specialEffects: ['Reliable', 'No jams', 'Cylinder reload'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Common',
    notes: 'Classic reliable design',
    emoji: 'ðŸ”«',
  },
  {
    id: 'RNG_005',
    name: 'SMG',
    category: 'Ranged_Regular',
    baseDamage: 20,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'GUNFIRE',
    attackSpeed: 0.8,
    range: 20,
    accuracyCS: -3,
    penetrationMult: 1.0,
    skillRequired: 'None',
    strRequired: 0,
    reloadTime: 3,
    magazineSize: 30,
    defaultAmmo: '9mm_Standard',
    specialEffects: ['Fast to draw', 'High rate of fire', 'Burst fire capable'],
    costLevel: 'High',
    costValue: getCostValue('High'),
    availability: 'Restricted',
    notes: 'Submachine gun; burst fire capable',
    emoji: 'ðŸ”«',
  },
  {
    id: 'RNG_006',
    name: 'Pump Shotgun',
    category: 'Ranged_Regular',
    baseDamage: 35,
    damageType: 'PHYSICAL',
    damageSubType: 'BUCKSHOT',
    attackSpeed: 3.0,
    range: 5,
    accuracyCS: -3,
    penetrationMult: 0.5,
    skillRequired: 'None',
    strRequired: 10,
    reloadTime: 5,
    magazineSize: 8,
    defaultAmmo: '12ga_Buckshot',
    specialEffects: ['Accuracy penalty reduces with range', 'Spread'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Common',
    notes: 'Close range devastation',
    emoji: 'ðŸ’¥',
  },
  {
    id: 'RNG_007',
    name: 'Auto Shotgun',
    category: 'Ranged_Skill',
    baseDamage: 35,
    damageType: 'PHYSICAL',
    damageSubType: 'BUCKSHOT',
    attackSpeed: 2.0,
    range: 5,
    accuracyCS: -3,
    penetrationMult: 0.5,
    skillRequired: 'Shooting',
    strRequired: 10,
    reloadTime: 4,
    magazineSize: 8,
    defaultAmmo: '12ga_Buckshot',
    specialEffects: ['Fast follow-up', 'Spread'],
    costLevel: 'High',
    costValue: getCostValue('High'),
    availability: 'Restricted',
    notes: 'Semi-auto shotgun',
    emoji: 'ðŸ’¥',
  },
  {
    id: 'RNG_008',
    name: 'Slug Shotgun',
    category: 'Ranged_Regular',
    baseDamage: 35,
    damageType: 'PHYSICAL',
    damageSubType: 'SLUG',
    attackSpeed: 3.0,
    range: 15,
    accuracyCS: -2,
    penetrationMult: 1.5,
    skillRequired: 'None',
    strRequired: 10,
    reloadTime: 5,
    magazineSize: 8,
    defaultAmmo: '12ga_Slug',
    specialEffects: ['Single projectile', 'Better range'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Common',
    notes: 'Rifled slug for range',
    emoji: 'ðŸ’¥',
  },
  {
    id: 'RNG_009',
    name: 'Assault Rifle',
    category: 'Ranged_Skill',
    baseDamage: 30,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'GUNFIRE',
    attackSpeed: 0.5,
    range: 60,
    accuracyCS: -1,
    penetrationMult: 1.0,
    skillRequired: 'Shooting',
    strRequired: 0,
    reloadTime: 4,
    magazineSize: 30,
    defaultAmmo: '5.56_Standard',
    specialEffects: ['Full-auto capable', 'Versatile'],
    costLevel: 'High',
    costValue: getCostValue('High'),
    availability: 'Military',
    investigationBonus: '+1CS military',
    notes: 'Standard military rifle',
    emoji: 'ðŸŽ¯',
  },
  {
    id: 'RNG_010',
    name: 'Battle Rifle',
    category: 'Ranged_Skill',
    baseDamage: 35,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'GUNFIRE',
    attackSpeed: 2.0,
    range: 70,
    accuracyCS: -1,
    penetrationMult: 1.2,
    skillRequired: 'Shooting',
    strRequired: 0,
    reloadTime: 5,
    magazineSize: 20,
    defaultAmmo: '7.62_Standard',
    specialEffects: ['Heavy round', 'Semi-auto'],
    costLevel: 'High',
    costValue: getCostValue('High'),
    availability: 'Military',
    investigationBonus: '+1CS military',
    notes: 'Heavier caliber rifle',
    emoji: 'ðŸŽ¯',
  },
  {
    id: 'RNG_011',
    name: 'Sniper Rifle',
    category: 'Ranged_Skill',
    baseDamage: 45,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'GUNFIRE',
    attackSpeed: 3.0,
    range: 100,
    accuracyCS: -1,
    penetrationMult: 1.5,
    skillRequired: 'Sniper',
    strRequired: 0,
    reloadTime: 6,
    magazineSize: 10,
    defaultAmmo: '.308_AP',
    specialEffects: ['Can target body parts', 'Ignores some armor'],
    costLevel: 'Very_High',
    costValue: getCostValue('Very_High'),
    availability: 'Military',
    investigationBonus: '+3CS surveillance',
    notes: 'Long range precision',
    emoji: 'ðŸŽ¯',
  },
  {
    id: 'RNG_012',
    name: 'Anti-Materiel Rifle',
    category: 'Ranged_Skill',
    baseDamage: 60,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'GUNFIRE',
    attackSpeed: 4.0,
    range: 150,
    accuracyCS: 0,
    penetrationMult: 2.5,
    skillRequired: 'Heavy_Weapons',
    strRequired: 20,
    reloadTime: 8,
    magazineSize: 5,
    defaultAmmo: '.50_Tungsten',
    specialEffects: ['Destroys cover', 'Extreme penetration'],
    costLevel: 'Ultra_High',
    costValue: getCostValue('Ultra_High'),
    availability: 'Military_Only',
    investigationBonus: '+2CS anti-vehicle',
    notes: 'Anti-vehicle rifle',
    emoji: 'ðŸ’€',
  },
  {
    id: 'RNG_013',
    name: 'Machine Gun',
    category: 'Ranged_Skill',
    baseDamage: 30,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'GUNFIRE',
    attackSpeed: 0.2,
    range: 30,
    accuracyCS: -3,
    penetrationMult: 1.0,
    skillRequired: 'Shooting',
    strRequired: 20,
    reloadTime: 6,
    magazineSize: 100,
    defaultAmmo: '7.62_Standard',
    specialEffects: ['Suppression', 'High volume fire'],
    costLevel: 'Very_High',
    costValue: getCostValue('Very_High'),
    availability: 'Military',
    investigationBonus: '+1CS military',
    notes: 'Support weapon',
    emoji: 'ðŸ”«',
  },
  {
    id: 'RNG_014',
    name: 'Minigun',
    category: 'Special_Ranged',
    baseDamage: 30,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'GUNFIRE',
    attackSpeed: 0.1,
    range: 20,
    accuracyCS: -4,
    penetrationMult: 1.0,
    skillRequired: 'Heavy_Weapons',
    strRequired: 25,
    reloadTime: 10,
    magazineSize: 500,
    defaultAmmo: '7.62_Standard',
    specialEffects: ['Extreme rate of fire', 'Knockback chance'],
    costLevel: 'Ultra_High',
    costValue: getCostValue('Ultra_High'),
    availability: 'Military_Only',
    notes: 'Vehicle/power armor mounted',
    emoji: 'â˜ ï¸',
  },
];

// ==================== THROWN WEAPONS ====================

export const THROWN_WEAPONS: Weapon[] = [
  {
    id: 'THR_001',
    name: 'Throwing Knife',
    category: 'Thrown',
    baseDamage: 10,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'THROWN',
    attackSpeed: 2.0,
    range: 10, // Base, modified by STR
    accuracyCS: -2,
    penetrationMult: 0.5,
    skillRequired: 'None',
    strRequired: 0,
    specialEffects: ['Range adds STR bonus', 'Silent', 'Reusable'],
    costLevel: 'Low',
    costValue: getCostValue('Low'),
    availability: 'Common',
    notes: 'Silent; reusable',
    emoji: 'ðŸ—¡ï¸',
  },
  {
    id: 'THR_002',
    name: 'Throwing Star',
    category: 'Thrown',
    baseDamage: 8,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'THROWN',
    attackSpeed: 1.5,
    range: 12,
    accuracyCS: -1,
    penetrationMult: 0.25,
    skillRequired: 'Martial_Arts',
    strRequired: 0,
    specialEffects: ['Fast throw', 'Multiple throws per turn'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Specialized',
    notes: 'Ninja weapon',
    emoji: 'â­',
  },
  {
    id: 'THR_003',
    name: 'Javelin',
    category: 'Thrown',
    baseDamage: 15,
    damageType: 'PHYSICAL',
    damageSubType: 'THROWN',
    attackSpeed: 2.5,
    range: 15,
    accuracyCS: -1,
    penetrationMult: 1.0,
    skillRequired: 'Throwing',
    strRequired: 15,
    specialEffects: ['Long range thrown'],
    costLevel: 'Low',
    costValue: getCostValue('Low'),
    availability: 'Common',
    notes: 'Athletic throw',
    emoji: 'ðŸ¹',
  },
  {
    id: 'THR_004',
    name: 'Rock',
    category: 'Thrown',
    baseDamage: 5,
    damageType: 'PHYSICAL',
    damageSubType: 'THROWN',
    attackSpeed: 1.5,
    range: 8,
    accuracyCS: -2,
    penetrationMult: 0.25,
    skillRequired: 'None',
    strRequired: 0,
    specialEffects: ['Abundant', 'Improvised'],
    costLevel: 'Free',
    costValue: 0,
    availability: 'Abundant',
    notes: 'Basic projectile',
    emoji: 'ðŸª¨',
  },
  {
    id: 'THR_005',
    name: 'Brick',
    category: 'Thrown',
    baseDamage: 8,
    damageType: 'PHYSICAL',
    damageSubType: 'THROWN',
    attackSpeed: 2.0,
    range: 6,
    accuracyCS: -2,
    penetrationMult: 0.5,
    skillRequired: 'None',
    strRequired: 0,
    specialEffects: ['Improvised', 'Causes bleeding'],
    costLevel: 'Free',
    costValue: 0,
    availability: 'Common',
    notes: 'Construction debris',
    emoji: 'ðŸ§±',
  },
];

// ==================== SPECIAL RANGED WEAPONS ====================

export const SPECIAL_WEAPONS: Weapon[] = [
  {
    id: 'SPC_001',
    name: 'Compound Bow',
    category: 'Ranged_Skill',
    baseDamage: 15,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'ARROW',
    attackSpeed: 2.0,
    range: 40,
    accuracyCS: 0,
    penetrationMult: 1.0,
    skillRequired: 'Bowmaster',
    strRequired: 15,
    reloadTime: 0,
    specialEffects: ['Special arrows', 'Silent'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Common',
    notes: 'Silent ranged option',
    emoji: 'ðŸ¹',
  },
  {
    id: 'SPC_002',
    name: 'Crossbow',
    category: 'Ranged_Skill',
    baseDamage: 20,
    damageType: 'BLEED_PHYSICAL',
    damageSubType: 'BOLT',
    attackSpeed: 3.0,
    range: 30,
    accuracyCS: -1,
    penetrationMult: 1.5,
    skillRequired: 'Crossbow',
    strRequired: 10,
    reloadTime: 4,
    specialEffects: ['High damage', 'Slow reload'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Common',
    notes: 'Medieval tech; powerful',
    emoji: 'ðŸ¹',
  },
  {
    id: 'SPC_003',
    name: 'Flamethrower',
    category: 'Special_Ranged',
    baseDamage: 0,
    damageType: 'ENERGY',
    damageSubType: 'FIRE',
    attackSpeed: 0.1,
    range: 5,
    accuracyCS: 0,
    penetrationMult: 0.75,
    skillRequired: 'Flamethrower',
    strRequired: 20,
    reloadTime: 10,
    specialEffects: ['Burns targets in cone', 'Ignites area', '15 damage/turn burn'],
    costLevel: 'Very_High',
    costValue: getCostValue('Very_High'),
    availability: 'Military',
    notes: 'Area denial',
    emoji: 'ðŸ”¥',
  },
  {
    id: 'SPC_004',
    name: 'Rocket Launcher',
    category: 'Special_Ranged',
    baseDamage: 50,
    damageType: 'PHYSICAL',
    damageSubType: 'EXPLOSION',
    attackSpeed: 6.0,
    range: 50,
    accuracyCS: -2,
    penetrationMult: 0.75,
    skillRequired: 'Rocketman',
    strRequired: 20,
    reloadTime: 8,
    magazineSize: 1,
    blastRadius: '3x3',
    specialEffects: ['Area damage', 'High knockback'],
    costLevel: 'Ultra_High',
    costValue: getCostValue('Ultra_High'),
    availability: 'Military_Only',
    notes: 'Explosive; 3x3 blast area',
    emoji: 'ðŸš€',
  },
  {
    id: 'SPC_005',
    name: 'Grenade Launcher',
    category: 'Special_Ranged',
    baseDamage: 40,
    damageType: 'PHYSICAL',
    damageSubType: 'EXPLOSION',
    attackSpeed: 3.0,
    range: 40,
    accuracyCS: -2,
    penetrationMult: 0.75,
    skillRequired: 'Rocketman',
    strRequired: 15,
    reloadTime: 3,
    magazineSize: 6,
    specialEffects: ['Area damage'],
    costLevel: 'Very_High',
    costValue: getCostValue('Very_High'),
    availability: 'Military',
    notes: '6-round cylinder',
    emoji: 'ðŸ’£',
  },
  {
    id: 'SPC_006',
    name: 'Taser',
    category: 'Special_Ranged',
    baseDamage: 5,
    damageType: 'ENERGY',
    damageSubType: 'ELECTRICAL',
    attackSpeed: 2.0,
    range: 5,
    accuracyCS: -1,
    penetrationMult: 0.25,
    skillRequired: 'None',
    strRequired: 0,
    reloadTime: 3,
    specialEffects: ['Stun effect', 'Non-lethal', 'Stuns for 1d4 turns'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Law_Enforcement',
    notes: 'Stuns for 1d4 turns',
    emoji: 'âš¡',
  },
  {
    id: 'SPC_007',
    name: 'Net Gun',
    category: 'Special_Ranged',
    baseDamage: 0,
    damageType: 'PHYSICAL',
    damageSubType: 'ENTANGLE',
    attackSpeed: 3.0,
    range: 10,
    accuracyCS: -2,
    penetrationMult: 0,
    skillRequired: 'None',
    strRequired: 0,
    reloadTime: 5,
    specialEffects: ['Entangles target', 'Escape DC15', 'Non-lethal'],
    costLevel: 'High',
    costValue: getCostValue('High'),
    availability: 'Specialized',
    notes: 'Non-lethal capture',
    emoji: 'ðŸ•¸ï¸',
  },
];

// ==================== ENERGY WEAPONS ====================

export const ENERGY_WEAPONS: Weapon[] = [
  {
    id: 'NRG_001',
    name: 'Laser Rifle',
    category: 'Energy_Weapons',
    baseDamage: 40,
    damageType: 'ENERGY',
    damageSubType: 'LASER',
    attackSpeed: 2.0,
    range: 50,
    accuracyCS: -1,
    penetrationMult: 2.0,
    skillRequired: 'Energy_Weapons',
    strRequired: 0,
    reloadTime: 5,
    magazineSize: 20,
    specialEffects: ['No bullet drop', 'Ignores wind', 'Reflects off mirrors'],
    costLevel: 'Ultra_High',
    costValue: getCostValue('Ultra_High'),
    availability: 'High_Tech',
    investigationBonus: '+2CS technology',
    notes: 'Concentrated light beam',
    emoji: 'âš¡',
  },
  {
    id: 'NRG_002',
    name: 'Plasma Rifle',
    category: 'Energy_Weapons',
    baseDamage: 45,
    damageType: 'ENERGY',
    damageSubType: 'PLASMA',
    attackSpeed: 2.5,
    range: 30,
    accuracyCS: -2,
    penetrationMult: 2.0,
    skillRequired: 'Energy_Weapons',
    strRequired: 0,
    reloadTime: 5,
    magazineSize: 15,
    specialEffects: ['Burns through armor', 'Fire damage over time'],
    costLevel: 'Ultra_High',
    costValue: getCostValue('Ultra_High'),
    availability: 'High_Tech',
    investigationBonus: '+2CS technology',
    notes: 'Superheated matter projectile',
    emoji: 'ðŸ”¥',
  },
  {
    id: 'NRG_003',
    name: 'Thermal Rifle',
    category: 'Energy_Weapons',
    baseDamage: 35,
    damageType: 'ENERGY',
    damageSubType: 'THERMAL',
    attackSpeed: 2.0,
    range: 50,
    accuracyCS: -1,
    penetrationMult: 1.5,
    skillRequired: 'Energy_Weapons',
    strRequired: 0,
    reloadTime: 5,
    magazineSize: 20,
    specialEffects: ['Heat damage', 'Ignites flammables'],
    costLevel: 'Ultra_High',
    costValue: getCostValue('Ultra_High'),
    availability: 'High_Tech',
    investigationBonus: '+2CS technology',
    notes: 'Heat ray',
    emoji: 'ðŸŒ¡ï¸',
  },
  {
    id: 'NRG_004',
    name: 'Ice Rifle',
    category: 'Energy_Weapons',
    baseDamage: 30,
    damageType: 'ENERGY',
    damageSubType: 'ICE',
    attackSpeed: 2.5,
    range: 20,
    accuracyCS: -1,
    penetrationMult: 0.75,
    skillRequired: 'Energy_Weapons',
    strRequired: 0,
    reloadTime: 5,
    magazineSize: 15,
    specialEffects: ['Slows target', 'Can freeze'],
    costLevel: 'Ultra_High',
    costValue: getCostValue('Ultra_High'),
    availability: 'High_Tech',
    investigationBonus: '+2CS technology',
    notes: 'Cryogenic beam',
    emoji: 'â„ï¸',
  },
  {
    id: 'NRG_005',
    name: 'Energy Rifle',
    category: 'Energy_Weapons',
    baseDamage: 35,
    damageType: 'ENERGY',
    damageSubType: 'PURE_ENERGY',
    attackSpeed: 2.0,
    range: 40,
    accuracyCS: -2,
    penetrationMult: 1.5,
    skillRequired: 'Energy_Weapons',
    strRequired: 0,
    reloadTime: 5,
    magazineSize: 18,
    specialEffects: ['Pure energy damage', 'Bypasses physical DR'],
    costLevel: 'Ultra_High',
    costValue: getCostValue('Ultra_High'),
    availability: 'High_Tech',
    investigationBonus: '+2CS technology',
    notes: 'Generic energy weapon',
    emoji: 'âš¡',
  },
  {
    id: 'NRG_006',
    name: 'Electric Rifle',
    category: 'Energy_Weapons',
    baseDamage: 30,
    damageType: 'ENERGY',
    damageSubType: 'ELECTRICAL',
    attackSpeed: 1.5,
    range: 30,
    accuracyCS: -2,
    penetrationMult: 1.0,
    skillRequired: 'Energy_Weapons',
    strRequired: 0,
    reloadTime: 5,
    magazineSize: 25,
    specialEffects: ['Chain lightning to conductors', 'Stun chance', '2.0x penetration vs conductive'],
    costLevel: 'Very_High',
    costValue: getCostValue('Very_High'),
    availability: 'High_Tech',
    investigationBonus: '+2CS technology',
    notes: 'Lightning projector',
    emoji: 'âš¡',
  },
  {
    id: 'NRG_007',
    name: 'Sonic Rifle',
    category: 'Energy_Weapons',
    baseDamage: 30,
    damageType: 'PHYSICAL',
    damageSubType: 'SONIC',
    attackSpeed: 2.0,
    range: 70,
    accuracyCS: -1,
    penetrationMult: 0.5,
    skillRequired: 'Shooting',
    strRequired: 0,
    reloadTime: 0,
    specialEffects: ['Ignores physical armor', 'Passes through cover'],
    costLevel: 'Very_High',
    costValue: getCostValue('Very_High'),
    availability: 'High_Tech',
    investigationBonus: '+1CS technology',
    notes: 'Sound wave weapon',
    emoji: 'ðŸ“¢',
  },
  {
    id: 'NRG_008',
    name: 'Pulse Rifle',
    category: 'Energy_Weapons',
    baseDamage: 35,
    damageType: 'ENERGY',
    damageSubType: 'CONCUSSIVE',
    attackSpeed: 2.0,
    range: 40,
    accuracyCS: -1,
    penetrationMult: 1.0,
    skillRequired: 'Energy_Weapons',
    strRequired: 0,
    reloadTime: 4,
    magazineSize: 20,
    specialEffects: ['Knockback effect'],
    costLevel: 'Ultra_High',
    costValue: getCostValue('Ultra_High'),
    availability: 'High_Tech',
    investigationBonus: '+2CS technology',
    notes: 'Concussive energy pulse',
    emoji: 'ðŸ’«',
  },
  {
    id: 'NRG_009',
    name: 'Disruptor',
    category: 'Energy_Weapons',
    baseDamage: 50,
    damageType: 'ENERGY',
    damageSubType: 'DISINTEGRATION',
    attackSpeed: 3.0,
    range: 20,
    accuracyCS: -2,
    penetrationMult: 3.0,
    skillRequired: 'Energy_Weapons',
    strRequired: 0,
    reloadTime: 8,
    magazineSize: 10,
    specialEffects: ['Ignores all DR', 'Destroys matter'],
    costLevel: 'Ultra_High',
    costValue: getCostValue('Ultra_High'),
    availability: 'Alien_Tech',
    investigationBonus: '+3CS alien tech',
    notes: 'Molecular disruption',
    emoji: 'â˜¢ï¸',
  },
  {
    id: 'NRG_010',
    name: 'Stun Rifle',
    category: 'Energy_Weapons',
    baseDamage: 15,
    damageType: 'ENERGY',
    damageSubType: 'STUN',
    attackSpeed: 1.5,
    range: 30,
    accuracyCS: -1,
    penetrationMult: 0.5,
    skillRequired: 'Energy_Weapons',
    strRequired: 0,
    reloadTime: 3,
    magazineSize: 30,
    specialEffects: ['Non-lethal', 'Stuns 1d6 turns'],
    costLevel: 'High',
    costValue: getCostValue('High'),
    availability: 'Law_Enforcement',
    notes: 'Police energy weapon',
    emoji: 'âš¡',
  },
];

// ==================== GRENADES ====================

export const GRENADES: Weapon[] = [
  {
    id: 'GRN_001',
    name: 'Combat Grenade',
    category: 'Grenades',
    baseDamage: 50,
    damageType: 'PHYSICAL',
    damageSubType: 'EXPLOSION',
    attackSpeed: 2.0,
    range: 15,
    accuracyCS: -2,
    penetrationMult: 0.75,
    skillRequired: 'None',
    strRequired: 0,
    blastRadius: '3x3',
    specialEffects: ['Area damage', 'Knockback'],
    costLevel: 'High',
    costValue: getCostValue('High'),
    availability: 'Military',
    notes: 'Fragmentation grenade',
    emoji: 'ðŸ’£',
  },
  {
    id: 'GRN_002',
    name: 'Sticky Grenade',
    category: 'Grenades',
    baseDamage: 50,
    damageType: 'PHYSICAL',
    damageSubType: 'EXPLOSION',
    attackSpeed: 2.0,
    range: 15,
    accuracyCS: -2,
    penetrationMult: 0.75,
    skillRequired: 'None',
    strRequired: 0,
    blastRadius: '3x3',
    specialEffects: ['Sticks to first contact', 'Area damage'],
    costLevel: 'High',
    costValue: getCostValue('High'),
    availability: 'Military',
    notes: 'Adheres to targets',
    emoji: 'ðŸ’£',
  },
  {
    id: 'GRN_003',
    name: 'Flash Grenade',
    category: 'Grenades',
    baseDamage: 0,
    damageType: 'SPECIAL',
    damageSubType: 'FLASH',
    attackSpeed: 2.0,
    range: 15,
    accuracyCS: -2,
    penetrationMult: 0,
    skillRequired: 'None',
    strRequired: 0,
    blastRadius: '5x5',
    specialEffects: ['Blinds targets', '-4CS for 1d4 turns'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Law_Enforcement',
    notes: 'Non-lethal; flashbang',
    emoji: 'ðŸ’¡',
  },
  {
    id: 'GRN_004',
    name: 'Stun Grenade',
    category: 'Grenades',
    baseDamage: 0,
    damageType: 'SPECIAL',
    damageSubType: 'CONCUSSIVE',
    attackSpeed: 2.0,
    range: 15,
    accuracyCS: -2,
    penetrationMult: 0,
    skillRequired: 'None',
    strRequired: 0,
    blastRadius: '4x4',
    specialEffects: ['Dazes targets', 'Stun 1d4 turns'],
    costLevel: 'Medium',
    costValue: getCostValue('Medium'),
    availability: 'Law_Enforcement',
    notes: 'Non-lethal; concussion',
    emoji: 'ðŸ’«',
  },
  {
    id: 'GRN_005',
    name: 'Smoke Grenade',
    category: 'Grenades',
    baseDamage: 0,
    damageType: 'SPECIAL',
    damageSubType: 'SMOKE',
    attackSpeed: 2.0,
    range: 15,
    accuracyCS: -2,
    penetrationMult: 0,
    skillRequired: 'None',
    strRequired: 0,
    blastRadius: '5x5',
    specialEffects: ['Blocks LOS', '-4CS attacks through smoke'],
    costLevel: 'Low',
    costValue: getCostValue('Low'),
    availability: 'Common',
    notes: 'Concealment',
    emoji: 'ðŸ’¨',
  },
  {
    id: 'GRN_006',
    name: 'Incendiary Grenade',
    category: 'Grenades',
    baseDamage: 30,
    damageType: 'ENERGY',
    damageSubType: 'FIRE',
    attackSpeed: 2.0,
    range: 15,
    accuracyCS: -2,
    penetrationMult: 1.0,
    skillRequired: 'None',
    strRequired: 0,
    blastRadius: '3x3',
    specialEffects: ['Creates fire area', '15 damage/turn in area'],
    costLevel: 'High',
    costValue: getCostValue('High'),
    availability: 'Military',
    notes: 'Area denial',
    emoji: 'ðŸ”¥',
  },
  {
    id: 'GRN_007',
    name: 'Gas Grenade',
    category: 'Grenades',
    baseDamage: 0,
    damageType: 'SPECIAL',
    damageSubType: 'GAS',
    attackSpeed: 2.0,
    range: 15,
    accuracyCS: -2,
    penetrationMult: 0,
    skillRequired: 'None',
    strRequired: 0,
    blastRadius: '4x4',
    specialEffects: ['Poison/sleep effect in area'],
    costLevel: 'High',
    costValue: getCostValue('High'),
    availability: 'Military',
    notes: 'Various gas types',
    emoji: 'â˜ ï¸',
  },
  {
    id: 'GRN_008',
    name: 'EMP Grenade',
    category: 'Grenades',
    baseDamage: 0,
    damageType: 'SPECIAL',
    damageSubType: 'EMP',
    attackSpeed: 2.0,
    range: 15,
    accuracyCS: -2,
    penetrationMult: 0,
    skillRequired: 'None',
    strRequired: 0,
    blastRadius: '5x5',
    specialEffects: ['Disables electronics', 'Damages robots'],
    costLevel: 'Very_High',
    costValue: getCostValue('Very_High'),
    availability: 'High_Tech',
    notes: 'Anti-tech',
    emoji: 'âš¡',
  },
  {
    id: 'GRN_009',
    name: 'Plasma Grenade',
    category: 'Grenades',
    baseDamage: 60,
    damageType: 'ENERGY',
    damageSubType: 'PLASMA',
    attackSpeed: 2.0,
    range: 15,
    accuracyCS: -2,
    penetrationMult: 1.5,
    skillRequired: 'None',
    strRequired: 0,
    blastRadius: '3x3',
    specialEffects: ['High damage', 'Burns through cover'],
    costLevel: 'Ultra_High',
    costValue: getCostValue('Ultra_High'),
    availability: 'High_Tech',
    notes: 'Advanced explosive',
    emoji: 'ðŸ”¥',
  },
];

// ==================== COMBINED WEAPON LIST ====================

export const ALL_WEAPONS: Weapon[] = [
  ...MELEE_WEAPONS,
  ...RANGED_WEAPONS,
  ...THROWN_WEAPONS,
  ...SPECIAL_WEAPONS,
  ...ENERGY_WEAPONS,
  ...GRENADES,
];

// ==================== UTILITY FUNCTIONS ====================

export function getWeaponById(id: string): Weapon | undefined {
  return ALL_WEAPONS.find(w => w.id === id);
}

export function getWeaponByName(name: string): Weapon | undefined {
  return ALL_WEAPONS.find(w => w.name.toLowerCase() === name.toLowerCase());
}

export function getWeaponsByCategory(category: WeaponCategory): Weapon[] {
  return ALL_WEAPONS.filter(w => w.category === category);
}

export function getWeaponsByAvailability(availability: string): Weapon[] {
  return ALL_WEAPONS.filter(w => w.availability === availability);
}

export function getWeaponsByCostLevel(costLevel: CostLevel): Weapon[] {
  return ALL_WEAPONS.filter(w => w.costLevel === costLevel);
}

export function getAffordableWeapons(budget: number): Weapon[] {
  return ALL_WEAPONS.filter(w => w.costValue <= budget).sort((a, b) => b.baseDamage - a.baseDamage);
}

// Balance check: Calculate DPS
export function calculateDPS(weapon: Weapon): number {
  return weapon.baseDamage / weapon.attackSpeed;
}

// Sort weapons by DPS
export function getWeaponsByDPS(): Weapon[] {
  return [...ALL_WEAPONS].sort((a, b) => calculateDPS(b) - calculateDPS(a));
}

// Get weapon recommendations for a character
export function getRecommendedWeapons(
  budget: number,
  skills: string[],
  str: number
): Weapon[] {
  return ALL_WEAPONS.filter(w => {
    if (w.costValue > budget) return false;
    if (w.strRequired > str) return false;
    if (w.skillRequired !== 'None' && !skills.includes(w.skillRequired)) return false;
    return true;
  }).sort((a, b) => calculateDPS(b) - calculateDPS(a));
}

export default ALL_WEAPONS;
